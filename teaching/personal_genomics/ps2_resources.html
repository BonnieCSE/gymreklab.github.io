---
layout: default
title:  'Personal Genomics - Problem Set 2 Resources'
---
[<a href="personal_genomics_2017.html">course homepage</a>]

<h1>Problem Set 2 - Ancestry</h1>

<p>
[<a href="https://s3-us-west-2.amazonaws.com/cse291personalgenomics/CSE291_Genomes_Pset2.pdf">Problem Set 2 PDF</a>]
  </p>

<h3>Overview</h3>
Data files and code templates for this problem set are available on comet at:
<p>
<code>/oasis/projects/nsf/csd524/mgymrek/data/ps2/</code><br>
<code>/oasis/projects/nsf/csd524/mgymrek/templates/ps2/</code>
</p>
You should make a directory for problem set 2 in your working directory with subdirectories for code and results:
<p>
<code>
mkdir /oasis/projects/nsf/csd524/$USER/ps2<br>
mkdir /oasis/projects/nsf/csd524/$USER/ps2/code<br>
mkdir /oasis/projects/nsf/csd524/$USER/ps2/results<br>
</code>	
</p>

<h3>Installing python packages</h3>
Use the following commands to install useful python packages:
<p>
<code>pip install --user sklearn pandas pyvcf</code>
</p>

<h3>PS2 data</h3>
The data directory contains the following files you will use in the problem set:
<ul>
<li><code>ps2_pca.samples.txt</code></li>
<li><code>ps2_pca.genotypes.tab</code></li>
<li><code>ps2_reference_labels.csv</code></li>
<li><code>ps2_ibd.lwk.bed</code></li>
<li><code>ps2_ibd.lwk.bim</code></li>
<li><code>ps2_impute.subset.gen.gz</code></li>
<li><code>ps2_impute.heldout.gen.gz</code></li>
</ul>
</p>

To see how these files were created from the original 1000 Genomes file, see:
<ul>
<li><code>/oasis/projects/nsf/csd524/mgymrek/templates/ps2/preprocess_pca.sh</code></li>
<li><code>/oasis/projects/nsf/csd524/mgymrek/templates/ps2/preprocess_ibd.sh</code></li>
<li><code>/oasis/projects/nsf/csd524/mgymrek/templates/ps2/preprocess_impute.sh</code></li>
</ul>

<h3>PS2 templates</h3>
The templates directory contains:
<ul>
<li><code>pset2_pca_template.py</code></li>
<li><code>run_ps2_pca.sh</code></li>
<li><code>run_ps2_ibd.sh</code></li>
<li><code>run_ps2_impute.sh</code></li>
</ul>

<h3>Using 23andMe data</h3>
To include your own 23andme results in the data used for the PCA problem, see:
<p>
<code>/oasis/projects/nsf/csd524/mgymrek/templates/ps2/preprocess_23andme.sh</code>
</p>
and edit the paths appropriately.
